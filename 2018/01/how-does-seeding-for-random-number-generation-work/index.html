

  
    
  


  




  


  

<!DOCTYPE html>
<html lang="en-us">
  <head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Hugo 0.31.1 with theme Tranquilpeak 0.4.3-BETA">
    <title>How does seeding for random number generation work?</title>
    <meta name="author" content="Nick Holt, Ph.D.">
    <meta name="keywords" content="">

    <link rel="icon" href="/favicon.png">
    

    
    <meta name="description" content="IntroductionHere is the problem: I’m building a simulation of a sequence of random events that leads to a specific outcome of interest only rarely. When I say rarely, I mean that the outcome I’m interested in only occurs by chance about 0.1% of the time. The simulation function I’m working with takes about 9 seconds to complete each iteration (likely indicating that I’m not the world’s most efficient coder), and so if the target outcome occurs every 1 in 1000 iterations on average, then I need to wait at least 2.">
    <meta property="og:description" content="IntroductionHere is the problem: I’m building a simulation of a sequence of random events that leads to a specific outcome of interest only rarely. When I say rarely, I mean that the outcome I’m interested in only occurs by chance about 0.1% of the time. The simulation function I’m working with takes about 9 seconds to complete each iteration (likely indicating that I’m not the world’s most efficient coder), and so if the target outcome occurs every 1 in 1000 iterations on average, then I need to wait at least 2.">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="How does seeding for random number generation work?">
    <meta property="og:url" content="/2018/01/how-does-seeding-for-random-number-generation-work/">
    <meta property="og:site_name" content="Nick Holt, Ph.D.">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Nick Holt, Ph.D.">
    <meta name="twitter:description" content="IntroductionHere is the problem: I’m building a simulation of a sequence of random events that leads to a specific outcome of interest only rarely. When I say rarely, I mean that the outcome I’m interested in only occurs by chance about 0.1% of the time. The simulation function I’m working with takes about 9 seconds to complete each iteration (likely indicating that I’m not the world’s most efficient coder), and so if the target outcome occurs every 1 in 1000 iterations on average, then I need to wait at least 2.">
    
    

    
    

    
      <meta property="og:image" content="//www.gravatar.com/avatar/b1796d7eef2bbae1956f0857496fdffa?s=640">
    

    
      <meta property="og:image" content="https://i.imgur.com/IyCfoNY.gif">
    
    
    

    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.css" integrity="sha256-vuXZ9LGmmwtjqFX1F+EKin1ThZMub58gKULUyf0qECk=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.css" integrity="sha256-SEa4XYAHihTcEP1f5gARTB2K26Uk8PsndQYHQC1f4jU=" crossorigin="anonymous" />
    
    
    <link rel="stylesheet" href="/css/style-jsjn0006wyhpyzivf6yceb31gvpjatbcs3qzjvlumobfnugccvobqwxnnaj8.min.css" />
    
    

    
      
    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="4">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="/">Nick Holt, Ph.D.</a>
  </div>
  
    
      <a class="header-right-picture "
         href="/#about">
    
    
    
      
        <img class="header-picture" src="//www.gravatar.com/avatar/b1796d7eef2bbae1956f0857496fdffa?s=90" alt="Author&#39;s picture" />
      
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="4">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="/#about">
          <img class="sidebar-profile-picture" src="//www.gravatar.com/avatar/b1796d7eef2bbae1956f0857496fdffa?s=110" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">Nick Holt, Ph.D.</h4>
        
          <h5 class="sidebar-profile-bio">Data Scientist, Advanced Analytics Instructor, Psychologist, and Fantasy Sports Enthusiast. I studied learning and cognitive development in babies for a long time. Now, I apply the approaches I learned in that field to other areas.</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/#about">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/cv.pdf">
    
      <i class="sidebar-button-icon fa fa-lg fa-file-o"></i>
      
      <span class="sidebar-button-desc">CV</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/nick-holt">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://twitter.com/na_holt">
    
      <i class="sidebar-button-icon fa fa-lg fa-twitter"></i>
      
      <span class="sidebar-button-desc">Twitter</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/resume.pdf">
    
      <i class="sidebar-button-icon fa fa-lg fa-file-o"></i>
      
      <span class="sidebar-button-desc">Resume</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/categories">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/tags">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/archives">
    
      <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
      
      <span class="sidebar-button-desc">Archives</span>
    </a>
  </li>


    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="4"
        class="
               hasCoverMetaOut
               ">
        <article class="post" itemscope itemType="http://schema.org/BlogPosting">
          
          
            <div class="post-header main-content-wrap text-center">
  
    <h1 class="post-title" itemprop="headline">
      How does seeding for random number generation work?
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2018-01-25T00:00:00Z">
        
  January 25, 2018

      </time>
    
    
  
  
    <span>in</span>
    
      <a class="category-link" href="/categories/r">r</a>, 
    
      <a class="category-link" href="/categories/simulation">simulation</a>, 
    
      <a class="category-link" href="/categories/teaching">teaching</a>
    
  

  </div>

</div>
          
          <div class="post-content markdown" itemprop="articleBody">
            <div class="main-content-wrap">
              <div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>Here is the problem: I’m building a simulation of a sequence of random events that leads to a specific outcome of interest only rarely. When I say rarely, I mean that the outcome I’m interested in only occurs by chance about 0.1% of the time. The simulation function I’m working with takes about 9 seconds to complete each iteration (likely indicating that I’m not the world’s most efficient coder), and so if the target outcome occurs every 1 in 1000 iterations on average, then I need to wait at least 2.5 hours for the simulation to run. I need to verify that the simulation is working properly, and the only way to check is to find instances of the rare outcome in the simulated data. The problem I am running into is that running the simulation a bunch of times is not statistically guaranteed to produce the rare outcome. This is a common problem in simulation: the rate of occurrence (1 in 1000) is an average rate of occurence, meaning that I likely need to simulate many more iterations for the rate of occurrence to average out to 1 in 1000. To cut to the chase, I’ve found that I need about 5000 iterations to get 5 occurrences, but 5000 iterations takes roughly 12.5 hours to run. Who has time for that?</p>
<p>The way I see it, I have two choices: profile my simulation functions and speed them up, or figure out a cheat to get me the simulation results I need with fewer reps. Obviously, I’m going to spend time trying to figure out a seed hack instead of doing the real work!</p>
<p>I’ve run some tests, and it turns out that the seed that I’m setting results in a random sequence that does not produce an occurrence of the outcome of interest over the first 1000 or even 2000 iterations of the simulation. In the interest of saving time, I would ideally want to find a seed that results in a maximum number of occurrences of the target outcome over the fewest iterations possible, which is not knowable apriori. In order to halfway accomplish that goal, I realized that I needed to better understand how seeding in R works. After searching stackoverflow and crossvalidated for explanations, I was left unsatisfied. So, I decided to go way overboard and put together this entire walkthrough of random number generation in R. I probably should have profiled my functions instead, but that’s the boring stuff that no one wants to read about.</p>
</div>
<div id="what-in-the-world-are-you-going-on-about" class="section level2">
<h2>What in the world are you going on about?</h2>
<p>If you are completely new to simulation of random sequences in R, a seed is a value that represents a starting value for a random number generator. I’ll get into lots of the details of this process later in the post, but for now, you need to know that the seed value is often set arbitrarily (by picking any number) so that the simulation experiment is reproducible. Setting the seed and simulating numbers will always result in the same sequence of numbers from that specific starting point.</p>
<p>Without knowing anything else about this process, you way you may guess intuitively that a seed of 1 and a seed of 2 both index positions along a sequence of random numbers. By this method, two successive values of seeding (e.g., 1 and 2) might produce identical results for the second iteration of the first seed value, and the first iteration of the second seed value. We can test this posibility by running a simple experiment in R. For example, under this hypothesis, if we set the seed to 1, we would expect the second random number in the resulting sequence to be identical to the case where I set the seed to 2 and generated one number.</p>
<p>If the seed values worked iteratively in this fashion, then I could just set my seed value to x + 2000 and jump 2000 iterations ahead of my crappy seed that I was using before. This would seemingly improve my chances of generating the outcome of interest over the next 3000 or so iterations, resulting in a savings of 5 hours of run time. Let’s find out if seed values have this iterative property.</p>
<div id="experiment-1-do-sequential-seeds-index-successive-positions-in-the-same-random-sequence" class="section level3">
<h3>Experiment 1: Do sequential seeds index successive positions in the same random sequence?</h3>
<pre class="r"><code>set.seed(1)
runif(2)</code></pre>
<pre><code>## [1] 0.2655087 0.3721239</code></pre>
<pre class="r"><code>set.seed(2)
runif(2)</code></pre>
<pre><code>## [1] 0.1848823 0.7023740</code></pre>
<p>Clearly, the answer to this question is no, because the second value in the first set of simulated numbers is not the same as the first value in the second set of numbers. Later, I’ll get into the details of what seed values actually are and why they don’t replicate numbers in the manner tested above, but for now, back to the drawing board.</p>
</div>
<div id="experiment-2-can-i-skip-ahead-in-the-stream-of-random-numbers" class="section level3">
<h3>Experiment 2: Can I skip ahead in the stream of random numbers?</h3>
<p>The next obvious question is whether or not it is possible to skip ahead in a sequence of random numbers that starts at a given seed value. Skipping ahead would allow me to bypass the early portion of the sequence that doesn’t result in the outcome I’m looking for. Let’s find out if we can skip ahead in the stream of random numbers that occur when I set the seed equal to 1.</p>
<pre class="r"><code># set seed at 1
set.seed(1)
# simulate 2000 values and return the last value in the set
runif(2000)[2000]</code></pre>
<pre><code>## [1] 0.387113</code></pre>
<p>Now, we need to simulate 2 new values without resetting the seed.</p>
<pre class="r"><code># intentionally do not set the seed
runif(2)</code></pre>
<pre><code>## [1] 0.871805 0.967197</code></pre>
<p>Finally, here is the test: if skipping ahead in the stream works, we should be able to replicate the three values we just obtained by simulating 2002 values starting at seed 1. If skipping works, the last three values in the set below should equal the three values we obtained above (0.38, 0.87, and 0.96).</p>
<pre class="r"><code># set the seed at 1
set.seed(1)
# simulate 2002 values and return the last 3 values in the set
runif(2002)[2000:2002]</code></pre>
<pre><code>## [1] 0.387113 0.871805 0.967197</code></pre>
<p><strong>Answer:</strong> Yes, we can skip ahead in the stream by beginning with a seed value, simulating a large number of values (n), and then continuing the simulation of the target outcome without setting a new seed. In this scenario, we are basically throwing away the first n values in the random stream and beginning from n + 1. The process is still replicable because we are still simulating values relative to a seed starting point, but we are ignoring the beginning of the random sequence.</p>
<p>Here is a quick function that we can use to reliably skip ahead n iterations in a random sequence beginning from any seed value. Note that the function below works because the scope of set.seed() is global.</p>
<pre class="r"><code>seed_skip &lt;- function(seed, n) {
        set.seed(seed)
        runif(n)
        print(&quot;skipping complete&quot;)
}

seed_skip(1, 1999)</code></pre>
<pre><code>## [1] &quot;skipping complete&quot;</code></pre>
<pre class="r"><code>runif(3)</code></pre>
<pre><code>## [1] 0.387113 0.871805 0.967197</code></pre>
<p>Notice that the output of runif(3) is the same output we obtained in the random sequence skipping experiment. This means that the function worked as intended.</p>
<p>Hopefully this quick demonstration has piqued your interest enough to begin thinking about some other questions related to random number generation. The remainder of this post is dedicated to providing detailed answers to some basic questions about random number generation.</p>
</div>
</div>
<div id="how-does-random-number-generation-work" class="section level2">
<h2>How does random number generation work?</h2>
<p>Independent and identically distributed random numbers are required for many data science applications, especially simulation.</p>
<p>True random sequences are only generated by iid random variables. The sequences produced by this type of variable are non-deterministic, meaning that the next number in the sequence is always unpredictable. A random walk is a good example of this type of process.</p>
<p>A random walk is a set of “steps” that describes a randomly generated path through a mathematical space. In the plot shown below, 5 different random walks of 100 steps each over a 10 x 10 2D space are generated by sampling with replacement from 4 possible movements (left, right, up, down) at each step.</p>
<pre class="r"><code>list_of_moves &lt;- data.frame(cbind(c(-1, 0, 1, 0), c(0, -1, 0, 1)))
colnames(list_of_moves) &lt;- c(&quot;x&quot;, &quot;y&quot;)
                        
random_walk &lt;- function(steps) {
        walk &lt;- sample_n(list_of_moves, steps, replace = TRUE)
        data.frame(cbind(x = cumsum(walk[,1]), y = cumsum(walk[,2])))
}

# simulate 5 random walks of 100 steps
set.seed(888)
walks &lt;- NULL
steps &lt;- 100
reps &lt;- 5
for(i in seq_along(1:reps)){
        walk &lt;- random_walk(steps) %&gt;%
                mutate(row = 1:steps,
                       walk = as.character(i))
        walks &lt;- rbind(walks, walk)
}

# create plot
p &lt;- ggplot(walks, aes(x, y, frame = row, cumulative = TRUE, color = walk)) +
        scale_x_continuous(limits=c(-10,10)) +
        scale_y_continuous(limits=c(-10,10)) +
        theme_minimal() +
        xlab(&quot;\n x coordinates&quot;) +
        ylab(&quot;y coordinates \n&quot;) +
        ggtitle(&quot;     5 random walks over a 10 X 10 2D space&quot;) +
        theme(text=element_text(size=16)) + 
        theme(legend.position=&quot;none&quot;) + 
        geom_path(size = 2)

# animate plot
rw_animation &lt;- gganimate(p, interval = .01, title_frame = FALSE, filename = &quot;random_walks.gif&quot;)</code></pre>
<p><img align="center" src="https://i.imgur.com/IyCfoNY.gif"></p>
<p>Notice that the random walks appear as a tangle of overlapping movements accross the space. There is no discernable pattern to the movements, except that they all share the same origin.</p>
</div>
<div id="true-vs.pesudo-randomness" class="section level2">
<h2>True vs. Pesudo-randomness?</h2>
<p>Of course, a truly random walk must be generated by a true random sequence. True random sequences are produced by natural physical processes. For example, flipping a coin, rolling a die, the decay of a radioactive source, or noise in the atmosphere are all natural sources that produce true randomness.</p>
<p>True random sequence generation poses problems in data science applications because these sequences can be costly and difficult to generate, and reproducibility is not typically possible. There are applications of true randomness in areas such as cryptography and slot machines, but most data science applications typically leverage pseudo-random sequences.</p>
<p>As discussed in <em>Simulation for Data Science with R</em>, the <em>random</em> library in R facilitates the use of true random numbers generated by atmospheric noise. The noise is collected and made available by random.org. The randomNumbers function streams the random sequence from the random.org website. The visualization below demonstrates the randomness of these truly unpredictible values.</p>
<p><strong>Note: You may only pull 10,000 random numbers at a time from random.org, and you are limited to 4 large calls to the site per day.</strong></p>
<pre class="r"><code>x &lt;- randomNumbers(n=10000, col = 2, min = 0, max = 1e+06, check = T)/1000000

n &lt;- length(x)
df &lt;- data.frame(x1 = x[1:(n-1)], x2 = x[2:n])
ggplot(df, aes(x1, x2)) +
        geom_point(size = 0.1) + 
        xlab(&quot;\n random numbers from random.org&quot;) + 
        ylab(&quot;lag 1 \n&quot;)</code></pre>
<p><img src="/post/2018-01-25-how-does-seeding-for-random-number-generation-work_files/figure-html/randomNumbersdemo-1.png" width="672" /></p>
</div>
<div id="generating-pseudo-random-numbers-and-the-origin-of-seed-values" class="section level2">
<h2>Generating Pseudo-random Numbers and the Origin of Seed Values</h2>
<p>Scientists have designed algorithms to generate pesudo-random sequences for over 70 years. As part of the research for the Manhattan Project in 1946, John von Neumann developed one of the first computational methods for generating pseudo-random numbers. His work was driven by the need for reproducible sequences of random numbers that did not need to be stored in memory. The algorithm he developed is called the middle squares method.</p>
<p>The basic approach of the middle squares method is to choose a seed value that is n-digits in length that serves as the starting point for the algorithm. The algorithm squares the seed and then takes the middle n-digits of the result as the first number in the random sequence. Then the result becomes the new seed and the process repeats a specified number of times. Check out the 4-digit version of the middle squares method that I implemented as an R function, and the resulting pseudo-random sequences for two different seed values that I plotted below.</p>
<pre class="r"><code>middle_squares &lt;- function(sequence_length = 100, seed = 2038) {
        random_sequence &lt;- NULL
        for(i in seq_along(1:sequence_length)) {
        # algorithm begins with any 4-digit number called the seed
                # if the seed has less than 4 digits, make it 4 digits
                seed_digits &lt;- str_count(as.character(seed))
                seed &lt;- as.numeric(ifelse(seed_digits &lt; 4, paste0(rep(1, 4-seed_digits), seed), seed))
                # square the seed
                square &lt;- seed^2
                # if the squared result has 7 digits, add a zero to the beginning to make it 8 digits
                square &lt;- ifelse(str_count(as.character(square)) == 7, paste0(0,square), square)
                # take the middle 4 digits of the squared result as the next number in the sequence
                next_seq &lt;- as.numeric(str_sub(square, 3, 6))
                # seed becomes the next number in the sequence
                seed &lt;- next_seq
                # add next_seq to the master sequence
                random_sequence[i] &lt;- next_seq
        }
        return(random_sequence)
}

# generate random sequences
x &lt;- middle_squares()

y &lt;- middle_squares(seed = 8437)

# build data frame for plot
df &lt;- data.frame(cbind(x, y)) %&gt;%
        gather(key = &quot;starting_seed&quot;, value = &quot;value&quot;) %&gt;%
        mutate(starting_seed = ifelse(starting_seed == &quot;x&quot;, &quot;seed = 2038&quot;, &quot;seed = 8437&quot;),
               lag1_value = lag(value))
df$lag1_value[101] &lt;- NA

# facet scatterplot of pseudo-random middle squares values and lagged values 
ggplot(df, aes(value, lag1_value)) + 
        geom_point(size = 2) +
        xlab(&quot;\n random values based on middle squares method&quot;) +
        ylab(&quot;lagged random values based on middle squares method \n&quot;) +
        facet_wrap(~ starting_seed, nrow = 1)</code></pre>
<p><img src="/post/2018-01-25-how-does-seeding-for-random-number-generation-work_files/figure-html/middlesquaresalgorithmdemo-1.png" width="672" /></p>
<p>There are plenty of better methods of pseudo-random number generation that have been developed since the middle squares algorithm, but the idea of using a seed value as a starting point for an algorithm is an important one that is still implemented today to ensure the reproducibility of pseudo-random sequences. As a bit of trivia, the default random number generator in R is the Mersenne-Twister algorithm, which is the gold standard for pseudo-random number generation.</p>
<pre class="r"><code># check default RNG
RNGkind()</code></pre>
<pre><code>## [1] &quot;Mersenne-Twister&quot; &quot;Inversion&quot;</code></pre>
</div>
<div id="linear-congruential-generators" class="section level2">
<h2>Linear Congruential Generators</h2>
<p>The Mersenne-Twister is based on Linear Congruential Generators, which are relatively simple RNGs. They take 4 inputs:</p>
<ol style="list-style-type: decimal">
<li>a modulus value - m</li>
<li>a multiplier value - a</li>
<li>an increment value - c</li>
<li>a seed value - s</li>
</ol>
<p>Here is how it works:</p>
<p>First, you multiply the seed by the multiplier. Then, add the increment to the result of the first operation. Finally, take the result mod the m value (the remainder when the result is divided by m). Repeating this process n times using the result of each iteration as the seed for the next run will result in a random sequence of length n with values between 0 and m-1.</p>
<pre class="r"><code>lcg &lt;- function(n = 10, m = 4829, a = 1268, c = 8831, s = 4321){
        random_sequence &lt;- NULL
        for(i in seq_along(1:n)) {
                # step 1: multiply the seed by the multiplier
                result &lt;- s*a
                # step 2: add the increment value
                result &lt;- result + c
                # step 3: take the result mod the modulus value
                result &lt;- result %% m
                # add result to the sequence
                random_sequence[i] &lt;- result
                # set the result as the seed for the next iteration
                s &lt;- result
        }
        return(random_sequence)
}

# generate a sequence using the lcg
n &lt;- 10000
x &lt;- lcg(n = n)

# create lagged values
df &lt;- data.frame(x1 = x[1:(n-1)], x2 = x[2:n])

# create scatterplot
ggplot(df, aes(x1, x2)) +
        geom_point(size = 2) + 
        xlab(&quot;\n random numbers from linear congruential generator&quot;) + 
        ylab(&quot;lag 1 \n&quot;)</code></pre>
<p><img src="/post/2018-01-25-how-does-seeding-for-random-number-generation-work_files/figure-html/linearcongruentialgenerators-1.png" width="672" /></p>
<p><strong>Notice anything strange about the plot? (Hint: How many points are displayed?)</strong></p>
<p>Pseudo-random number generators produce sequences that have a period, which is a fixed length after which the sequence repeats itself. Unfortunately, all pseudo-random sequences have this property; all such sequences repeat eventually. As soon as a non-unique value is produced, the deterministic nature of these algorithms (each number generated depends on the number before it) dictates that the sequence will loop from that point forward. Let’s find the period of the sequence we generated in the last code chunk.</p>
<pre class="r"><code>period_x1 &lt;- length(unique(df$x1))
period_x1</code></pre>
<pre><code>## [1] 730</code></pre>
<p>Based on the parameters chosen, after 730 values are generated, the sequence repeats itself. However, by choosing “good” values for the modulus (m) and the increment (c) it is possible to to obtain a sequence with period close to m.</p>
<div id="thanks-for-reading" class="section level3">
<h3>Thanks for Reading!</h3>
<p>That’s it for now, but I plan to follow up with a few other posts in this series. Next time I’ll discuss Inverse Transform Sampling, and maybe the Mersenne-Twister.</p>
</div>
<div id="references" class="section level3">
<h3>References:</h3>
<ol style="list-style-type: decimal">
<li>Templ, M. (2016). Simulation of random numbers. In <a href="https://www.amazon.com/Simulation-Data-Science-Matthias-Templ/dp/1785881167">Simulation for Data Science with R</a> (pp. 89-147). Birmingham, UK: Packt Publishing.</li>
<li>Kahn Academy. Pseudorandom number generators. <a href="https://www.youtube.com/watch?v=GtOt7EBNEwQ" class="uri">https://www.youtube.com/watch?v=GtOt7EBNEwQ</a>.</li>
<li>Wikipedia. John von Neumann. <a href="https://en.wikipedia.org/wiki/John_von_Neumann" class="uri">https://en.wikipedia.org/wiki/John_von_Neumann</a></li>
<li>Wikipedia. Middle Squares Method. <a href="https://en.wikipedia.org/wiki/Middle-square_method" class="uri">https://en.wikipedia.org/wiki/Middle-square_method</a></li>
</ol>
</div>
</div>

              
            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">TAGGED IN</span><br/>
                    
  <a class="tag tag--primary tag--small" href="/tags/randomness/">randomness</a>

  <a class="tag tag--primary tag--small" href="/tags/seeds/">seeds</a>

  <a class="tag tag--primary tag--small" href="/tags/animation/">animation</a>

                  </div>
                
              
            
            
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--disabled">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="/2017/12/function-iterations-in-r/" data-tooltip="Function Iterations in R">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=/2018/01/how-does-seeding-for-random-number-generation-work/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=/2018/01/how-does-seeding-for-random-number-generation-work/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=/2018/01/how-does-seeding-for-random-number-generation-work/">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  </div>


            
              
                <div id="disqus_thread">
  <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
              
            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2018 Nick Holt, Ph.D.. All Rights Reserved
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
        
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--disabled">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="/2017/12/function-iterations-in-r/" data-tooltip="Function Iterations in R">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=/2018/01/how-does-seeding-for-random-number-generation-work/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=/2018/01/how-does-seeding-for-random-number-generation-work/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=/2018/01/how-does-seeding-for-random-number-generation-work/">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  </div>


      </div>
      <div id="share-options-bar" class="share-options-bar" data-behavior="4">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=%2F2018%2F01%2Fhow-does-seeding-for-random-number-generation-work%2F">
          <i class="fa fa-facebook-official"></i><span>Share on Facebook</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=%2F2018%2F01%2Fhow-does-seeding-for-random-number-generation-work%2F">
          <i class="fa fa-twitter"></i><span>Share on Twitter</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=%2F2018%2F01%2Fhow-does-seeding-for-random-number-generation-work%2F">
          <i class="fa fa-google-plus"></i><span>Share on Google&#43;</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="//www.gravatar.com/avatar/b1796d7eef2bbae1956f0857496fdffa?s=110" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">Nick Holt, Ph.D.</h4>
    
      <div id="about-card-bio">Data Scientist, Advanced Analytics Instructor, Psychologist, and Fantasy Sports Enthusiast. I studied learning and cognitive development in babies for a long time. Now, I apply the approaches I learned in that field to other areas.</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Head Instructor - Institute for Advanced Analytics, Bellarmine University
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Louisville, Kentucky
      </div>
    
  </div>
</div>

    <div id="algolia-search-modal" class="modal-container">
  <div class="modal">
    <div class="modal-header">
      <span class="close-button"><i class="fa fa-close"></i></span>
      <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled">
        <span class="searchby-algolia-text text-color-light text-small">by</span>
        <img class="searchby-algolia-logo" src="https://www.algolia.com/static_assets/images/press/downloads/algolia-light.svg">
      </a>
      <i class="search-icon fa fa-search"></i>
      <form id="algolia-search-form">
        <input type="text" id="algolia-search-input" name="search"
          class="form-control input--large search-input" placeholder="Search" />
      </form>
    </div>
    <div class="modal-body">
      <div class="no-result text-color-light text-center">no post found</div>
      <div class="results">
        
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2018/01/how-does-seeding-for-random-number-generation-work/">
                <h3 class="media-heading">How does seeding for random number generation work?</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jan 1, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">IntroductionHere is the problem: I’m building a simulation of a sequence of random events that leads to a specific outcome of interest only rarely. When I say rarely, I mean that the outcome I’m interested in only occurs by chance about 0.1% of the time. The simulation function I’m working with takes about 9 seconds to complete each iteration (likely indicating that I’m not the world’s most efficient coder), and so if the target outcome occurs every 1 in 1000 iterations on average, then I need to wait at least 2.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2017/12/function-iterations-in-r/">
                <h3 class="media-heading">Function Iterations in R</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Dec 12, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">The contents of this document were presented as a talk to the Louisville R Users Group Meetup. Some of the content presented below was adapted from R for Data Science by Hadley Wickham, which is an excellent resource. Specifically, Chapter 17 demonstrates the strengths of the purrr package, and I highly recommend the exercises throughout the chapter if you would like practice on this topic.
Writing Functions in R Programming is problem solving</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2017/12/christmas-gifts-for-data-scientists-books-rmd/">
                <h3 class="media-heading">Christmas Gifts for Data Scientists: Books</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Dec 12, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Suggested reads for the holiday breakWhile browsing the /r/datascience subreddit the other day, I ran accross a blog post entitled: Geek Christmas: 10 best books to entertain a Data Scientist. The post contains a list of popular best sellers that loosely intersect with data science.
I know I’m late to the party on this, but I’m currently reading Moneyball and enjoying it quite a bit. I plan to check out a few of the other titles listed in the post I linked.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2017/12/first-post-creating-a-website-blog-using-r-rmd/">
                <h3 class="media-heading">First Post - Creating a Website/Blog Using R</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Dec 12, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Obligatory First Post: How I made this blog Honestly, creating this website could not have been much easier. At this point, so many people have done posts on creating a personal site on github using blogdown and hugo that I don&rsquo;t feel the need to explain in much detail. I followed a good walkthrough by Tyler Clavelle that you can find here: https://tclavelle.github.io/blog/blogdown_github/.
To pique your interest and demonstrate how simple it is to create a site like this in RStudio, here is the minimal code it took to genereate this blog:</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
      </div>
    </div>
    <div class="modal-footer">
      <p class="results-count text-medium"
         data-message-zero="no post found"
         data-message-one="1 post found"
         data-message-other="{n} posts found">
         4 posts found
      </p>
    </div>
  </div>
</div>
    
  
    
    <div id="cover" style="background-image:url('/images/cover.jpg');"></div>
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.7/js/jquery.fancybox.min.js" integrity="sha256-GEAnjcTqVP+vBp3SSc8bEDQqvWAZMiHyUSIorrWwH50=" crossorigin="anonymous"></script>


<script src="/js/script-qi9wbxp2ya2j6p7wx1i6tgavftewndznf4v0hy2gvivk1rxgc3lm7njqb6bz.min.js"></script>



<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight > code, pre > code').each(function(i, block) {
    if (!$(this).hasClass('codeblock')) {
      $(this).addClass('codeblock');
    }
    hljs.highlightBlock(block);
  });
});
</script>


  
    
      <script>
        var disqus_config = function () {
          this.page.url = '\/2018\/01\/how-does-seeding-for-random-number-generation-work\/';
          
            this.page.identifier = '\/2018\/01\/how-does-seeding-for-random-number-generation-work\/'
          
        };
        (function() {
          
          
          if (window.location.hostname == "localhost") {
            return;
          }
          var d = document, s = d.createElement('script');
          var disqus_shortname = 'https-nick-holt-github-io';
          s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
      </script>
    
  



    
  </body>
</html>

